// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract StudentData{

    // create structure for student data
    struct Student{
        string name;
        uint256 rollNo;
    }

    //create array
    Student[] public studentarr;

    //function to add students in array
    function addStudent(string memory name, uint rollNo) public {
        for(uint i = 0; i < studentarr.length;i++)
        {
            if (studentarr[i].rollNo == rollNo){
                revert("Student with this roll Number is already exist");
            }
        }
        studentarr.push(Student(name,rollNo));

    }
    //function to get student by its rollno
    function getstudent(uint rollNo) public view returns(string memory){
        for(uint i = 0; i < studentarr.length;i++)
        {
            Student memory stud = studentarr[i];
            if(rollNo == stud.rollNo)
            {
                return (studentarr[i].name);

            }
        

        }
        return ("Not found!!");
    }

    function getstudentlength() public view returns(uint){
        return studentarr.length;
    }

    function getAllstudent() public view returns(Student[] memory){
        return studentarr;

    }
    function getstudentByIndex(uint idx) public view returns(Student memory){
        require(idx < studentarr.length,"idex is out of bound!");
        return studentarr[idx];
    }

    //fallback
    fallback() external  payable { 

    }
    
    receive() external payable { 

    }

}
